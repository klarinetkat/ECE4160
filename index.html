<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>ECE 4160 Labs - Katherine Fernandes</title>

        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
            <a class="navbar-brand js-scroll-trigger" href="#page-top">
                <span class="d-block d-lg-none">ECE 4160 - Fast Robots</span>
                <span class="d-none d-lg-block"><img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="assets/img/profile.jpg" alt="..." /></span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#ece4160intro">ECE 4160</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab1">Lab 1</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab2">Lab 2</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab3">Lab 3</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab4">Lab 4</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab5">Lab 5</a></li>
                </ul>
            </div>
        </nav>
        <!-- Page Content-->
        <div class="container-fluid p-0">
            <!-- ECE 4160 Intro -->
            <section class="resume-section" id="ece4160intro">
                <div class="resume-section-content">
                    <h1 class="mb-0">
                        ECE 4160 - Fast Robots
                    </h1>
                    <div class="subheading mb-5">
                        Katherine Fernandes · ECE ·
                        <a href="mailto:kaf245@cornell.edu">kaf245@cornell.edu</a>
                    </div>
                    <p class="lead mb-3">Welcome to the website for my ECE 4160 (Fast Robots) Labs!</p>
                    <p class="lead mb-5">I am a junior studying Electrical and Computer Engineering at Cornell University. Looking forward to all the labs we will work on in this course! Hope you enjoy!</p>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 1-->
            <section class="resume-section" id="lab1">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 1: Artemis</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Objective</h3>
                            <p>Lab 1 was meant to help us get used to using the Arduino IDE and the Artemis Nano. 
                                There was no coding involved since we used the example files provided through the IDE.
                            </p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Blink Up</h3>
                            <p>The first example toggles the LED between on and off.</p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/_0FxDqbftqI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Serial Communication</h3>
                            <p>The second example demonstrates UART serial communication between the artemis and my laptop. 
                                When I type something into the serial monitor the input is read by the Artemis and then outputted back into the serial monitor.
                            </p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/ZvkjTaKOUPk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">AnalogRead</h3>
                            <p> The third example uses AnalogRead for the temperature sensor on the Artemis.
                                The temperature reading increases from around 33200 to 334000 when I put my finger on the board and decreases from around 334000 to 33200 when I blow on the board.
                            </p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/9H5_e3qILKs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Microphone Output</h3>
                            <p>The final example calculates an FFT and prints the loudest frequency heard by the pulse density microphone on the Artemis.
                                The frequency increases when I whistle into the microphone.
                            </p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/q7iBV3D7Rio" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 2 -->
            <section class="resume-section" id="lab2">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 2: Bluetooth Communication</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Objective</h3>
                            <p>
                                Lab 2's purpose is to establish a bluetooth connection between our computer and the Artemis board.
                                We will use Jupyter notebook to code in Python and the Arduino IDE for the Artemis. 
                                In future labs we will use bluetooth to communicate between the Artemis and our laptops.
                            </p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Prelab</h3>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Set Up</h4>
                                <p>
                                    In order to set up the computer, we had to install Python 3 and pip if they weren't installed already. I also created and activated
                                    a new virtual environment called "FastRbots_ble" which will be used for labs in this course. Within this specific virtual environment
                                    I downloaded the proper packages including 'numpy pyyaml colorama nest_asyncio bleak jupyterlab' so I can run jupyter lab. At this point,
                                    I also downloaded the codebase into my project directory. In addition, to set up the Artemis Board I downloaded the ArdinoBLE library and 
                                    ran the sketch ble_arduino.ino to view the MAC address of the artemis board.
                                </p>
                                <img src="assets\img\lab2\Lab2PrelabMACAddress.png" alt="mac address" />
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Codebase</h4>
                                <p>
                                    The code base ble_robot-1.1 contains two sub-directories ble_arduino and ble_python. ble_arduino contains the main ble_arduino.ino 
                                    file that we edit in this lab and class definition files. ble_python contains all the files that run in jupyter labs. demo.ipynb is
                                    the main Jupyter Notebook that we can use to run commands and it relies on information from the other files. 
                                    When we run ble_arduino we find out the MAC address of the Artemis which can afterwards be put in connections.yaml. Also, in 
                                    jupyter lab we can randomly generate a uuid which is then copied into connections.yaml and ble_arduino.
                                    In addition, we add a command case to ble_arduino.ino we have to include it in cmd_types.py. 
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1 mb-5">
                            <h3 class="mb-0">Lab Tasks</h3>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Configurations</h4>
                                <p>
                                    First I ran the ble_arduino file in arduino to get the mac address of the Artemis board (as done in the prelab) and randomly 
                                    generated a uuid in jupyter labs. Afterwards, I updated these values connections.yaml file.
                                </p>
                                <img src="assets\img\lab2\lab2_uuid_generated.jpg" alt="uuid generated" />
                                <img src="assets\img\lab2\Lab2_ardiuno uuid.jpg" alt="uuid arduino" />
                                <img src="assets\img\lab2\Lab2_jupyter uuid.jpg" alt="uuid jupyter" />
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Demo</h4>
                                <p>
                                    I ran into a lot of issues when originally running the demo file. My personal laptop runs Windows 11, which at the time of the lab 
                                    was not able to properly establish a bluetooth connection between the arduino IDE and bluetooth in jupyter lab. I ended up using the 
                                    lab computers but it was to no avail. During the lab section it seemed other students were connecting to the board by accident while 
                                    I could not connect to it.
                                </p>
                                <p>
                                    After a week of testing things out, TA Alex posted step by step instructions for how to set up bluetooth communication on Windows 11
                                    It was very helpful and I was finally able to start making progress on the lab.
                                </p>
                                <p>
                                    This is a video running through the Demo File:
                                </p>
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/I6WbjsZIyWk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0"> Task 1: ECHO</h4>
                                <p>
                                    The ECHO command sends a specific string to the Artemis board and the Artemis sends back the string to the computer. This is done 
                                    with interactions between a jupter notebook file and the arduino IDE. In juptyer I called ble.send_command(CMD.COMMAND, "some string") 
                                    to send the command to Arduino's switch-case statements. I almost forgot to add the command to the CommandTypes enum and the cmd.types.py file.
                                </p>
                                <img src="assets\img\lab2\Task1.jpg" alt="task 1 echo" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Task 2: GET_TIME_MILLIS</h4>
                                <p>
                                    This task also used the ble.send_command() and ble.receive_string() to send and receive information bewteen the computer and Artemis. 
                                    I used millis() to get the current time in milliseconds and appended it to the string characteristic.
                                </p>
                                <img src="assets\img\lab2\Task2.jpg" alt="task 2 time" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Task 3: Notification Handler</h4>
                                <p>
                                    I set up a notification handler and callback function to extract the time from the string sent from the Artemis command GET_TIME_MILLIS
                                    to the laptop. In order to extract the string, I had to first process the data. Since I knew the format of the string being received, 
                                    it was easy to splice the string depending on where there were colons and add all the times to an array of times.
                                </p>
                                <img src="assets\img\lab2\Task3.jpg" alt="task 3 notif" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Task 4: GET_TEMP_5s</h4>
                                <p>
                                    I added another case statement in the ble_arduino.ino file which sends an array of timestamped temperature readings that were taken
                                    once per second for five seconds. I followed the example temperature file from Lab 1 as a guide for how to read the temperature in 
                                    Celsius and used the GET_TIME_MILLIS case as the base code before adding temperature.
                                </p>
                                <img src="assets\img\lab2\Task4.jpg" alt="task 4 temp" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Task 5: GET_TEMP_5s_RAPID</h4>
                                <p>
                                    The notification handler for GET_TEMP_5s_RAPID remained the same from the previous task. The difference was in how we loop to collect
                                    a series of data points, for example, checking the time we started taking measurements and subtracting it by the current time to see
                                    if the different was less than or equal to 5000 milliseconds (5 seconds). There were over 50 reading that were taken.
                                </p>
                                <img src="assets\img\lab2\lab2_clipped_rapid.jpg" alt="task 5 rapid"/>
                            </div>
                            <div class="flex-grow-1">
                                <h4 class="mb-0">Task 6: Limitations</h4>
                                <p>
                                    The Artemis has 384 kB of RAM and we are asked to discuss the limitations of how much data we can store to send without running 
                                    out of memory in the form of "5 seconds of 16-bit values taken at 150 Hz". 
                                </p>
                                <p>
                                    Since we are transmitting 16-bit values at 150 Hz, we are transmitting 300 bytes per second or 1500 bytes every 5 seconds.
                                    If we divide our total amount of RAM 384 kB by 1500 bytes every 5 seconds, we can transmit 256 5-second intervals of data
                                    before running out of memory.
                                </p>
                            </div>
                        </div>   
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Resources</h3>
                            <p>Thank you Olive and Alex for the Ed Discussion posts on how to get bluetooth connection working on Windows 11!</p>
                            <p>
                                Also, I looked at classmates websites such as Tiffany Guo, Liam Kain, Ignacio Romo, Michael Crum, and Samantha Cole.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 3 -->
            <section class="resume-section" id="lab3">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 3: TOF</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Objective</h3>
                            <p>
                                Lab 3's purpose is to set up communication between the Artemis and time of flight sensors. After learning how to read 
                                data from the time of flight sensors, we build off of lab 2 to quickly send data to our computers.
                            </p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Prelab</h3>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">I2C Sensor Address</h4>
                                <p>
                                    The default address of the TOF sensor is 0x52. This informaton can be found on the VL53L0X datasheet.
                                </p>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Using 2 ToF Sensors</h4>
                                <p>
                                    There are two approaches for using two TOF Sensors in parallel because they both have the same address. The first option is to
                                    turn off one TOF sensor during set-up, changing the address of the other sensor, and then turning the TOF sensor back on. At this 
                                    point, both TOF sensors would have different addresses and you can read data from both at the same time. The second option is to keep
                                    both TOF sensors with the same address but alternate between turning on and off one sensor when you want to read data from the other one.
                                    An issue that may arise later on is the delay when waiting for the sensors to start back up.
                                </p>
                                <p>
                                    I decided to go with the first option because I don't want to deal with delays later on when my robot is navigating and doing stunts. In addition,
                                    I only have to solder the XSHUT pin on one of the TOF sensors to a GPIO pin (I chose GPIO 8) on the Artemis.
                                </p>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Placement of Sensors</h4>
                                <p>
                                    There are many different options for how to place the sensors on the robot. The first option is having a sensor on the left and right sides of 
                                    the robot however this means the robot will be unable to detect objects that are in front of it. The second option is having a sensor on the 
                                    front and another sensor on one side. This allows for the robot to see in front, but it can cause issues of the robot is coming close to an 
                                    obstacle on the side without the sensor. The third option is to place both sensors at an angle on the front of the robot. This allow for the
                                    sensors to see both in front and to the sides. One thing to think about is how to process that data to give reliable and useful information
                                    if the sensors are at an angle.
                                </p>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Wire Diagram</h4>
                                <img src="assets\img\lab3\wiring.png" alt="wiring" width = 800/>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Lab Tasks</h3>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">ToF Sensor connected to QWIIC Breakout Board</h4>
                                <img src="assets\img\lab3\qwiic.jpg" alt="qwiic" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Artemis scanning for I2C Devices</h4>
                                <p>
                                    As mentioned in the prelab, the default address of the TOF sensor is 0x52. However, when scanning for I2C devices the address is 
                                    0x29 which is equal to 0x52 bitshifted to the right. The least significant bit is used to determine if the device is read/written.
                                </p>
                                <img src="assets\img\lab3\scanForI2CDeviceTOF.jpg" alt="sensor address" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Sensor data with chosen method</h4>
                                <p>
                                    The TOF sensor we are using has two measure modes. The short distance mode is used by default which measures up to 1.3 m. The long 
                                    distance mode can meausure up to 4 m. For the purpose of this lab, I continued to use the default setting. It might be good to use 
                                    the long distance mode for the actual robot since it will be moving at a faster speed and needs enough time to react to obstacles 
                                </p>
                                <p>
                                    Example setup for measuring 150 mm:
                                </p>
                                <img src="assets\img\lab3\tape_measure.jpg" alt="tape measure" width = 800/>
                                <p>
                                    I calculated the mean and standard deviation of 100 measurements for 150 mm, 300 mm, 450 mm, and 600 mm. Below is the plot with
                                    the actual value on the x-axis and the measured values on the y-axis:
                                </p>
                                <img src="assets\img\lab3\graph1.jpg" alt="graph 1" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">2 ToF Sensors in Parallel </h4>
                                <p>
                                    As described in the prelab, I decided to change the address of one of the sensors to 0x54 to use both sensors in parallel. 
                                    Below is a screenshot of both sensors measuring different distances.
                                </p>
                                <img src="assets\img\lab3\sensingBothTOF.jpg" alt="2 sensors parallel" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">ToF Sensor Speed</h4>
                                <p>
                                    Timing with Stop Ranging is about 95-99 ms
                                </p>
                                <img src="assets\img\lab3\timingWithStopRanging.jpg" alt="with stop ranging" width = 800/>
                                <p>
                                    Timing without Stop Ranging is about 95-99 ms
                                </p>
                                <img src="assets\img\lab3\timingWithOutStopRanging.jpg" alt="without stop ranging" width = 800/>
                                <p>
                                    Timing for just reading is about 2 ms
                                </p>
                                <img src="assets\img\lab3\timingJustReading.jpg" alt="just reading" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Time vs Distance</h4>
                                <p>
                                    I edited some of the Lab 2 code to record time-stamped ToF data for a set period of time and send it to my computer using Bluetooth.
                                    By using the callback function from lab 2 I was able to extract the data from the given string and plot it on a graph. The graph 
                                    shows the distance measurements when both sensors collect data at the same time.
                                </p>
                                <img src="assets\img\lab3\graph2.jpg" alt="graph 2" width = 800/>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Resources</h3>
                            <p>
                                I looked at classmates websites such as Tiffany Guo, Liam Kain, Ignacio Romo, Michael Crum, and Samantha Cole.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 4 -->
            <section class="resume-section" id="lab4">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 4: IMU</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Objective</h3>
                            <p>
                                Lab 4's purpose is to familiarize oursevles with reading data from the IMU and understanding what is means. Also, run the Artemis with 
                                the sensors from a battery. The final task is to record a stunt of the RC car and graph the IMU and TOF data.
                            </p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Lab Tasks</h3>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Set up the IMU</h4>
                                <p>
                                    In order to set up the IMU, we had to install the SParkFun 9DOF IMU Breakout - ICM 20948 - Arduino library. The basics example was 
                                    run to see if IMU's accelerometer and gyroscope were properly measuring data. Below is a video of the example code running.
                                </p>
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/N4BcSB49qXI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                <p>
                                    AD0_VAL should be 1 ...
                                </p>
                                <p>
                                    In order to know that the board is running the blue LED on the Artemis board toggles on and off three times on start up.
                                    For this lab it helps know if the IMU is ready to collect data and as an indication for if the Artemis reruns the code.
                                </p>
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/kXhYHhc1YAs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Accelerometer</h4>
                                <p>
                                    During lecture we went over the equations for pitch (rotation around the y-axis) and roll (rotation around the x-axis):
                                </p>
                                <img src="assets\img\lab4\lab4_acc_equations.jpg" alt="equation for pitch and roll" width = 500/>
                                <p>
                                    I made a separate ardunio file that initializes the IMU to collect data and print into the serial monitor in a specific format
                                    so I could later on connect a separate Serial Plot to receive the data from the same COM the Artemis was connect to. 
                                    
                                    First, I used my lab box as a guide to make sure I was tilting the IMU by +/- 90 degrees about both the x- and y-axis. The images 
                                    below show the different orienations with the pitch and roll printed in the Serial Monitor and displayed in the Serial Plotter.
                                    
                                    Aftwerwards, I plotted the pitch and roll in the Serial Plotter and took a video as I rotated the IMU in different directions.
                                    Below is a video of:

                                    insert images and video
                                </p>
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/YuZhnP5RQd8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                <p> 
                                    When running the RC car in its proximity there is extra noise in the accelerometer data. I recorded some of this data 
                                    by running the car near the accelerometer. I send this data from the Artemis to Python using a modified version of the 
                                    bluetooth code from lab 2. In Jupyter lab, I took the FFT of the pitch and the roll which was slightly noisy. In order 
                                    to eliminate some of this noise, I implemented a complimentary low pass filter for both the pitch and roll.

                                    if there is little noise -- check information on chip and reason why that might be (differ between kits)
                                </p>
                                
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Gyroscope</h4>
                                <p>
                                    In lecture we also discussed the equations to compute the pitch, roll, and yaw using the gyroscope data:
                                </p>
                                <img src="assets\img\lab4\lab4_gyro_equations.jpg" alt="equation for gyrpscope pitch roll, yaw" width = 500/>
                                <p>
                                    As shown in the video values output from the gyroscope are much more steady than the outputs from the accelerometer.
                                    However, overtime the "base line" values accumulates and shifts to have a large magnitude.
                                </p>
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/0UsWkfQscsw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                <p>
                                    In order to have both the steady nature of the gyroscope and the accuracy of the accelerometer I 
                                    implemented a complimentary filter to compute an estimated pitch and roll using information from 
                                    both the gyroscope and accelerometer.
                                </p>
                                <img src="assets\img\lab4\lab4_compFilter_equations.jpg" alt="equation for complimentary filter" width = 500/>
                                <p></p>
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/8Ayo6PnQJe4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Sample Data</h4>
                                <p>
                                    I can sample data as fast as 2-3 milliseconds. (show screenshot)
                                </p>
                                <p>
                                    I integrated my code from Lab 3 to collect both ToF data and IMU data and sent it over bluetooth 
                                    to my laptop. It could collect the data for 5s and then graphed the data using matplot.

                                    I think I ended up using separate arrays to store the ToF, Accelerometer, and Gyroscope Data.

                                    Explain memory and allocation to arrays; seconds
                                </p>
                                
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Cut the Coord</h4>
                                <p>
                                    We have two different batteries. One 3.7A 850mAh for the motors and one 3.7A 650mAh for the Artemis and sensors.
                                    
                                    (why using battery with more capacity for motors)
                                    
                                    In order to connect the 650mAh battery to the Artemis, I soldered the cables to the JST connector and used heat shrink 
                                    to cover the job.
                                </p>
                                <img src="assets\img\lab4\artemis_sensors_batteries.jpg" alt="artemis with battery and sensors" width = 600/>                                
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Record a Stunt</h4>
                                <p>
                                    I plugged in the 850mAh battery to the RC car and drove it around the hallway for a little while as shown in the video.
                                </p>
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/-sUPYsqnodo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                <p>
                                    Aftwards I attached the 650mAh to the Artemis and everything to the RC car.
                                    I put one TOF sensor on the left side of the car and the other one on the front of the car. I mounted the IMU, Artemis,
                                    and QWIIC breakout board to one side of the car and the battery to the other side of the car.
                                    I was able to test and see that the bluetooth successfully connected and data collected and sent to my laptop to analyze and graph the outputs
                                    from the accelerometer, gyroscope, and TOF sensors. 
                                </p>
                                <img src="assets\img\lab4\robot_sensors_attached.jpg" alt="artemis with sensors attached to RC car" width = 600/>
                                    
                                <img src="assets\img\lab4\robot_battery.jpg" alt="battery attached to RC car" width = 600/>  
                                <p>
                                    Below is a video of the stunt with everything attached and collecting data: 
                                </p>                              
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/i09A-qVn9dA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>     
                                <p>
                                    graphs of results
                                </p>                           
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Resources</h3>
                            <p>Thank you</p>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 5 -->
            <section class="resume-section" id="lab5">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 5: Motor Driver and Open Loop Control </h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Lab 5 content</h3>
                            <p>coming soon</p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">More lab 5 stuff</h3>
                            <p>yay</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>

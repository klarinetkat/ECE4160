<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>ECE 4160 Labs - Katherine Fernandes</title>

        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Saira+Extra+Condensed:500,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
            <a class="navbar-brand js-scroll-trigger" href="#page-top">
                <span class="d-block d-lg-none">ECE 4160 - Fast Robots</span>
                <span class="d-none d-lg-block"><img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="assets/img/profile.jpg" alt="..." /></span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#ece4160intro">ECE 4160</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab1">Lab 1</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab2">Lab 2</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab3">Lab 3</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab4">Lab 4</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#lab5">Lab 5</a></li>
                </ul>
            </div>
        </nav>
        <!-- Page Content-->
        <div class="container-fluid p-0">
            <!-- ECE 4160 Intro -->
            <section class="resume-section" id="ece4160intro">
                <div class="resume-section-content">
                    <h1 class="mb-0">
                        ECE 4160 - Fast Robots
                    </h1>
                    <div class="subheading mb-5">
                        Katherine Fernandes · ECE ·
                        <a href="mailto:kaf245@cornell.edu">kaf245@cornell.edu</a>
                    </div>
                    <p class="lead mb-3">Welcome to the website for my ECE 4160 (Fast Robots) Labs!</p>
                    <p class="lead mb-5">I am a junior studying Electrical and Computer Engineering at Cornell University. Looking forward to all the labs we will work on in this course! Hope you enjoy!</p>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 1-->
            <section class="resume-section" id="lab1">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 1: Artemis</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Objective</h3>
                            <p>Lab 1 was meant to help us get used to using the Arduino IDE and the Artemis Nano. 
                                There was no coding involved since we used the example files provided through the IDE.
                            </p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Blink Up</h3>
                            <p>The first example toggles the LED between on and off.</p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/_0FxDqbftqI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Serial Communication</h3>
                            <p>The second example demonstrates UART serial communication between the artemis and my laptop. 
                                When I type something into the serial monitor the input is read by the Artemis and then outputted back into the serial monitor.
                            </p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/ZvkjTaKOUPk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-4">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">AnalogRead</h3>
                            <p> The third example uses AnalogRead for the temperature sensor on the Artemis.
                                The temperature reading increases from around 33200 to 334000 when I put my finger on the board and decreases from around 334000 to 33200 when I blow on the board.
                            </p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/9H5_e3qILKs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Microphone Output</h3>
                            <p>The final example calculates an FFT and prints the loudest frequency heard by the pulse density microphone on the Artemis.
                                The frequency increases when I whistle into the microphone.
                            </p>
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/q7iBV3D7Rio" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 2 -->
            <section class="resume-section" id="lab2">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 2: Bluetooth Communication</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Prelab</h3>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Set Up</h4>
                                <p>
                                    In order to set up the computer, we had to install Python 3 and pip if they weren't installed already. I also created and activated
                                    a new virtual environment called "FastRbots_ble" which will be used for labs in this course. Within this specific virtual environment
                                    I downloaded the proper packages including 'numpy pyyaml colorama nest_asyncio bleak jupyterlab' so I can run jupyter lab. At this point,
                                    I also downloaded the codebase into my project directory. In addition, to set up the Artemis Board I downloaded the ArdinoBLE library and 
                                    ran the sketch ble_ardino.ino to view the MAC address of the artemis board.
                                </p>
                                <img src="assets\img\lab2\Lab2PrelabMACAddress.png" alt="mac address" />
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Codebase</h4>
                                <p>
                                    AHHHHHHHHHHHHHH understanding of codebase and how bluetooth works with comp and artemis
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1 mb-5">
                            <h3 class="mb-0">Lab Tasks</h3>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Configurations</h4>
                                <p>First I ran the ble_arduino file in arduino to get the mac address of the Artemis board (as done in the prelab) and randomly 
                                    generated a uuid in jupyter labs. Afterwards, I updated these values connections.yaml file.
                                </p>
                                <img src="assets\img\lab2\lab2_uuid_generated.jpg" alt="uuid generated" />
                                <img src="assets\img\lab2\Lab2_ardiuno uuid.jpg" alt="uuid arduino" />
                                <img src="assets\img\lab2\Lab2_jupyter uuid.jpg" alt="uuid jupyter" />
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Demo</h4>
                                <p>
                                    I ran into a lot of issues when originally running the demo file. My personal laptop runs Windows 11, which at the time of the lab 
                                    was not able to properly establish a bluetooth connection between the arduino IDE and bluetooth in jupyter lab. I ended up using the 
                                    lab computers but it was to no avail. During the lab section it seemed other students were connecting to the board by accident while 
                                    I could not connect to it.
                                </p>
                                <p>
                                    After a week of testing things out, TA Alex posted step by step instructions for how to set up bluetooth communication on Windows 11
                                    It was very helpful and I was finally able to start making progress on the lab.
                                </p>
                                <p>
                                    This is a video running through the Demo File:
                                </p>
                                <iframe width="560" height="315" src="https://www.youtube.com/embed/I6WbjsZIyWk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0"> Task 1: ECHO</h4>
                                <p>
                                    The ECHO command sends a specific string to the Artemis board and the Artemis sends back the string to the computer. This is done 
                                    with interactions between a jupter notebook file and the arduino IDE. In juptyer I called ble.send_command(CMD.COMMAND, "some string") 
                                    to send the command to Arduino's switch-case statements. I almost forgot to add the command to the CommandTypes enum and the cmd.types.py file.
                                </p>
                                <img src="assets\img\lab2\Task1.jpg" alt="task 1 echo" width = 1000/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Task 2: GET_TIME_MILLIS</h4>
                                <p>
                                    This task also used the ble.send_command() and ble.receive_string() to send and receive information bewteen the computer and Artemis. 
                                    I used millis() to get the current time in milliseconds and appended it to the string characteristic.
                                </p>
                                <img src="assets\img\lab2\Task2.jpg" alt="task 2 time" width = 1000/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Task 3: Notification Handler</h4>
                                <p>
                                    I set up a notification handler and callback function to extract the time from the string sent from the Artemis command GET_TIME_MILLIS
                                    to the laptop. In order to extract the string, I had to first process the data. Since I knew the format of the string being received, 
                                    it was easy to splice the string depending on where there were colons and add all the times to an array of times.
                                </p>
                                <img src="assets\img\lab2\Task3.jpg" alt="task 3 notif" width = 1000/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Task 4: GET_TEMP_5s</h4>
                                <p>
                                    I added another case statement in the ble_ardino.ino file which sends an array of timestamped temperature readings that were taken
                                    once per second for five seconds. I followed the example temperature file from Lab 1 as a guide for how to read the temperature in 
                                    Celsius and used the GET_TIME_MILLIS case as the base code before adding temperature.
                                </p>
                                <img src="assets\img\lab2\Task4.jpg" alt="task 4 temp" width = 1000/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Task 5: GET_TEMP_5s_RAPID</h4>
                                <p>
                                    The notification handler for GET_TEMP_5s_RAPID remained the same from the previous task. The difference was in how we loop to collect
                                    a series of data points, for example, checking the time we started taking measurements and subtracting it by the current time to see
                                    if the different was less than or equal to 5000 milliseconds (5 seconds). There were over 50 reading that were taken.
                                </p>
                                <img src="assets\img\lab2\lab2_clipped_rapid.jpg" alt="task 5 rapid"/>
                            </div>
                            <div class="flex-grow-1">
                                <h4 class="mb-0">Task 6: Limitations</h4>
                                <p>limitations AHHHHHHHHHHHH</p>
                            </div>
                        </div>   
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Resources</h3>
                            <p>Thank you Olive and Alex for the ed discussions on how to get bluetooth connection working on Windows 11!</p>
                            <p>Also, </p>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 3 -->
            <section class="resume-section" id="lab3">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 3: TOF</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Prelab</h3>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">I2C Sensor Address</h4>
                                <p>
                                    The default address of the TOF sensor is 0x52. This informaton can be found on the VL53L0X datasheet.
                                </p>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Using 2 ToF Sensors</h4>
                                <p>
                                    There are two approaches for using two TOF Sensors in parallel because they both have the same address. The first option is to
                                    turn off one TOF sensor during set-up, changing the address of the other sensor, and then turning the TOF sensor back on. At this 
                                    point, both TOF sensors would have different addresses and you can read data from both at the same time. The second option is to keep
                                    both TOF sensors with the same address but alternate between turning on and off one sensor when you want to read data from the other one.
                                    An issue that may arise later on is the delay when waiting for the sensors to start back up.
                                </p>
                                <p>
                                    I decided to go with the first option because I don't want to deal with delays later on when my robot is navigating and doing stunts. In addition,
                                    I only have to solder the XSHUT pin on one of the TOF sensors to a GPIO pin (I chose GPIO 8) on the Artemis.
                                </p>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Placement of Sensors</h4>
                                <p>
                                    There are many different options for how to place the sensors on the robot. The first option is having a sensor on the left and right sides of 
                                    the robot however this means the robot will be unable to detect objects that are in front of it. The second option is having a sensor on the 
                                    front and another sensor on one side. This allows for the robot to see in front, but it can cause issues of the robot is coming close to an 
                                    obstacle on the side without the sensor. The third option is to place both sensors at an angle on the front of the robot. This allow for the
                                    sensors to see both in front and to the sides. One thing to think about is how to process that data to give reliable and useful information
                                    if the sensors are at an angle.
                                </p>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Wire Diagram</h4>
                                <img src="assets\img\lab3\wiring.png" alt="wiring" width = 1000/>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Lab Tasks</h3>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">ToF Sensor connected to QWIIC Breakout Board</h4>
                                <img src="assets\img\lab3\qwiic.jpg" alt="qwiic" width = 1000/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Artemis scanning for I2C Devices</h4>
                                <p>
                                    As mentioned in the prelab, the default address of the TOF sensor is 0x52. However, when scanning for I2C devices the address is 
                                    0x29 which is equal to 0x52 bitshifted to the right. The least significant bit is used to determine if the device is read/written.
                                </p>
                                <img src="assets\img\lab3\scanForI2CDeviceTOF.jpg" alt="sensor address" width = 1000/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Sensor data with chosen method</h4>
                                <p>
                                    The TOF sensor we are using has two measure modes. The short distance mode is used by default which measures up to 1.3 m. The long 
                                    distance mode can meausure up to 4 m. For the purpose of this lab, I continued to use the default setting. It might be good to use 
                                    the long distance mode for the actual robot since it will be moving at a faster speed and needs enough time to react to obstacles 
                                </p>
                                <p>
                                    Example setup for measuring:
                                </p>
                                <img src="assets\img\lab3\tape_measure.jpg" alt="tape measure" width = 1000/>
                                <p>
                                    Graph of different distances (100 measuremeants per distance):
                                </p>
                                <img src="assets\img\lab3\graph1.jpg" alt="tape measure" width = 800/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">2 ToF Sensors in Parallel </h4>
                                <p>
                                    As described in the prelab, I decided to change the address of one of the sensors to 0x54 to use both sensors in parallel. 
                                    Below is a screenshot of both sensors measuring different distances.
                                </p>
                                <img src="assets\img\lab3\sensingBothTOF.jpg" alt="2 sensors parallel" width = 1000/>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">ToF Sensor Speed</h4>
                                <p>
                                    speed??
                                </p>
                            </div>
                            <div class="flex-grow-1 mb-5">
                                <h4 class="mb-0">Time vs Distance</h4>
                                <p>
                                    Graph of Both Sensors measuring at the same time
                                </p>
                                <img src="assets\img\lab3\graph2.jpg" alt="tape measure" width = 800/>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Resources</h3>
                            <p>Also, </p>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 4 -->
            <section class="resume-section" id="lab4">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 4: IMU</h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Lab 4 content</h3>
                            <p>coming soon</p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">More lab content</h3>
                            <p>coming soon</p>
                        </div>
                    </div>
                </div>
            </section>
            <hr class="m-0" />
            <!-- Lab 5 -->
            <section class="resume-section" id="lab5">
                <div class="resume-section-content">
                    <h2 class="mb-5">Lab 5: Motor Driver and Open Loop Control </h2>
                    <div class="d-flex flex-column flex-md-row justify-content-between mb-5">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">Lab 5 content</h3>
                            <p>coming soon</p>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-md-row justify-content-between">
                        <div class="flex-grow-1">
                            <h3 class="mb-0">More lab 5 stuff</h3>
                            <p>yay</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
